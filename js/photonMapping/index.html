<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>photons</title>
</head>

<body>
	<script type="text/javascript" src="./js/gfx.js"></script>
	<script type="text/javascript" src="./js/photons.js"></script>
	<script type="text/javascript">
		document.onkeydown = e => switchToMode(e.key, 9999);
		let gfx = new Gfx(szImg, szImg + 48);

		gfx.canvas.onmousedown = e => {
			mouseX = e.clientX;
			mouseY = e.clientY;
			mousePressed();
		};

		gfx.canvas.onmouseup = e => {
			mouseX = e.clientX;
			mouseY = e.clientY;
			mouseReleased();
		};

		gfx.canvas.onmousemove = e => {
			mouseX = e.clientX;
			mouseY = e.clientY;
			if (e.buttons > 0)
				mouseDragged();
		};

		function tick() {
			draw();
			window.requestAnimationFrame(tick);
		}

		gfx.loadImages(['./images/1_32.png', './images/2_32.png', './images/3_32.png'], () => {
			setup();
			tick();
		});
	</script>
</body>

</html>